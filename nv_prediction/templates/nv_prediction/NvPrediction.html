{% extends "base.html" %} {% load crispy_forms_tags %} 


{% block page_title %}
  Nouveau Prédiction
{% endblock page_title %}


{% block content %}

<main class="content bg-cover-1">
  <div class="container-fluid px-5 mt-5">
  <div class="mb-5">
  <h1><span class="txt-MontserratBold txt-30 txt-space-cadet">Nouveau Prédiction</span></h1>
  </div>
    <form method="POST" for="NV_Pred_Form">
      {% csrf_token %}

      <div class="row p-3">
        <div class="col texte">
          <label>Zone (adresse) </label>
          {{form.zone}}
          <small
            ><a href="{% url 'nv_prediction:district' %}"
              >voir votre zone</a
            ></small
          >
        </div>
        <div class="col texte">
        
        <label>Etat de logement</label>
        {{form.etat}}</div>
         
      </div>

      <div class="row p-3">
      <div class="col texte">
          <label>Type de Bien</label>
          {{form.typeBien}}
        </div>
        <div class="col texte">
          <label>NB étages à vendre</label>
          {{form.nomberEtage}}
        </div>
        <div class="col texte align-self-end">
        <label for="id_avec_toit">Vente Toit</label>
        {{form.avec_toit}}
        </div>
      </div>
      <div class="row p-3">
        <div class="col texte">
        <label>Surface</label>
        {{form.surface}}
        </div>
        <div class="col texte">
        <label>Surface couvert</label>
        {{form.surface_pc}}
        </div>
        <div class="col texte">
        <label>Surface terre</label>
        {{form.surface_pt}}
        </div>
      </div>
      <div class="d-flex justify-content-center mt-5">

         
          <button type="submit" class="btn btn-space-cadet m-1 px-4 py-1 txt-16">
            Prédire
          </button>

           <button
            type="reset"
            class="btn btn-outrageous-orange txt-16 m-1 px-4 py-1"
            onClick="window.location.href=window.location.href"
          >
            Vider
          </button>

      </div>
    </form>

    <div class="row p-3">
      <p class="col-auto txt-16 txt-MontserratRegular txt-space-cadet">{{resultat}}</p>
    </div>
  </div>
</main>

{% endblock content %}
{% block script %}

<script>
    $(document).on('input', function(){
    var su = $("#surface").val();
    var su_c = $("#surface_pc").val();
    var su_t = $("#surface_pt");
    if (su == su_c) {
      su_t.val(su);
      console.log(su);
    } else {
      su_t.val(su-su_c);
      console.log(su-su_c);
    }
  });
</script>
{% endblock script %}